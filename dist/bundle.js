(()=>{"use strict";const t=()=>{const t=(()=>{const t=[];for(let e=0;e<10;e++){const e=[];for(let t=0;t<10;t++)e[t]="";t.push(e)}return t})(),e={battleship:!1,carrier:!1,cruiser:!1,submarine:!1,destroyer:!1};let r=[];const o=()=>t;return{getBoard:o,placeShip:(t,n,a,c)=>"y"===n?((t,n,a)=>{const c=a+t.getSize();return!!(a>=0&&c<o()[n].length&&n>0<o().length&&o()[n].slice(a,c).every((t=>""===t))&&!1===e[t.getName()])&&((()=>{for(let e=a;e<c;e++)""===o()[n][e]&&(o()[n][e]=t.getId())})(),r.push(t),e[t.getName()]=!0,!0)})(t,a,c):"x"===n?((t,n,a)=>{const c=n+t.getSize();return!!(a>=0&&c<o()[n].length&&n>0<o().length&&(()=>{const t=o().slice(n,c),e=[];return t.forEach((t=>{e.push(t[a])})),e.every((t=>""===t))})()&&!1===e[t.getName()])&&((()=>{for(let e=n;e<c;e++)""===o()[e][a]&&(o()[e][a]=t.getId())})(),r.push(t),e[t.getName()]=!0,!0)})(t,a,c):void 0,allPlaced:()=>{for(const t in e)if(!1===e[t])return!1;return!0},receiveAttack:(t,e)=>""!==o()[t][e]&&(((t,e)=>{r=r.map((r=>(o()[t][e]!==r.getId()||r.getSunk()||r.isHit(),r)))})(t,e),!0),allShipsSunk:()=>r.every((t=>t.getSunk()))}},e={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let r;const o=new Uint8Array(16);function n(){if(!r&&(r="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!r))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return r(o)}const a=[];for(let t=0;t<256;++t)a.push((t+256).toString(16).slice(1));const c=function(t,r,o){if(e.randomUUID&&!r&&!t)return e.randomUUID();const c=(t=t||{}).random||(t.rng||n)();if(c[6]=15&c[6]|64,c[8]=63&c[8]|128,r){o=o||0;for(let t=0;t<16;++t)r[o+t]=c[t];return r}return function(t,e=0){return(a[t[e+0]]+a[t[e+1]]+a[t[e+2]]+a[t[e+3]]+"-"+a[t[e+4]]+a[t[e+5]]+"-"+a[t[e+6]]+a[t[e+7]]+"-"+a[t[e+8]]+a[t[e+9]]+"-"+a[t[e+10]]+a[t[e+11]]+a[t[e+12]]+a[t[e+13]]+a[t[e+14]]+a[t[e+15]]).toLowerCase()}(c)},s=t=>{const e=(t=>({battleship:4,carrier:5,cruiser:3,submarine:3,destroyer:2}[t]))(t);let r=!1;const o=t;let n=0;const a=c();return{getName:()=>o,getSize:()=>e,getSunk:()=>r,getId:()=>a,isHit:()=>{n+=1,e===n&&(r=!0)}}},i=t=>{const e=document.createElement("div");return e.setAttribute("id",t),e},d=(e=>{const r=[],o=t(),n=()=>Math.floor(10*Math.random()),a=t=>t[Math.floor(Math.random()*t.length)],c=t=>r.toString().includes(t);return{getName:()=>"computer",getPlayerBoard:()=>o,randomlyPlaceShips:function(){for(;!1===o.allPlaced();){const t=["battleship","carrier","cruiser","submarine","destroyer"],e=n(),r=n(),c=["x","y"][Math.floor(2*Math.random())],i=a(t),d=s(i);o.placeShip(d,c,e,r)&&t.splice(t.indexOf(i),1)}},attack:t=>{for(;;){const e=n(),o=n();if(!c([e,o].toString()))return t.getPlayerBoard().receiveAttack(e,o),r.push([e,o]),!0}},attackForUserOnly:(t,e,o)=>!c([e,o].toString())&&(t.getPlayerBoard().receiveAttack(e,o),r.push([e,o]),!0)}})();d.randomlyPlaceShips(),(t=>{const e=document.querySelector("body"),r=i("board");t.forEach((t=>{const e=i("board-column");e.style.border="solid black 2px",t.forEach((t=>{const r=i("board-row");r.textContent=t,e.appendChild(r)})),r.appendChild(e)})),e.appendChild(r)})(d.getPlayerBoard().getBoard())})();